<html>
<head>
    <meta charset="UTF-8">
    <title>브라우저 테스트</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
<h1>브라우저 테스트 (콘솔로그 참조)</h1>



<!--putElement-->
<h3> " ContainerAd 생성후 등록 방식 "</h3>
<div id="put_1"></div>

<h3> " ContainerAd 생성시 선택자 지정 방식"</h3>
<div id="put_2"></div>
<h3> " ContainerAd 생성시 선택자 지정 방식"</h3>
<div id="put_3"></div>
<div id="put_4"></div>


<p id="temp_1"><!--
    <div>
        <style></style>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><b><input type="button" name="aa" value="버튼임"></input></b></td>
                </tr>        
            </tbody>
        </table>
    </div>-->
</p>

<p id="temp_2"><!--
    <ul class="list-group">
      <li class="list-group-item">..</li>
    </ul>-->
</p>




<script src="../../external/LCommon.web.js"></script>
<script src="../../external/DataSet.js"></script>
<script src="../../src/DataAD.js"></script>
<script src="../../src/ContainerAD.js"></script>
<script>

// 기본 ds 구성
{
    // ds 생성
    var ds = new DataSet("ds");

    var dt1 = ds.tables.add("body"); // 2방식 : 직접 생성 방식 : 테이블

    ds.tables["body"].columns.add("p1_name");
    ds.tables["body"].columns.add("p2_name");

    var dr = null;

    dr = dt1.newRow();
    dr["p1_name"] = '1번내용';
    dr["p2_name"] = '2번내용';
    dt1.rows.add(dr);

    dr = dt1.newRow();
    dr["p1_name"] = '10번내용';
    dr["p2_name"] = '20번내용';
    dt1.rows.add(dr);
    // ds.acceptChanges();   // 커밋 시점 이후 부터 반영

    dr = dt1.newRow();
    dr["p1_name"] = '100번내용';
    dr["p2_name"] = '200번내용';
    dt1.rows.add(dr);

    // dt1.rows.removeAt(1);
}
// ###########################################
{
    // 생성자 후 putElement, tempatate 별도 지정
    var CD1 = new ContainerAdapter(); 
    CD1.putElement = document.querySelector("#put_1");
    CD1.import(document.querySelector("#temp_1"));

    CD1.setTableSlot("body", "tbody");   
    CD1.tables["body"].maxRow = 1;              // 주의! 1Row
    CD1.tables["body"].record.setSlot("tr");
    CD1.tables["body"].column.setSlot("td", "td");
    CD1.update(ds, "body");
}
// ###########################################
{
    // 생성자 ( put선택자, 템플릿선택자 )
    var CD2 = new ContainerAdapter("#put_2", "#temp_1"); 
    
    CD2.setTableSlot("body", "tbody");   
    CD2.tables["body"].record.setSlot("tr");
    CD2.tables["body"].column.setSlot("td", "td");
    CD2.update(ds, "body");
}
// ###########################################
{
    // 생성자 ( put선택자, 템플릿선택자 )
    var CD3 = new ContainerAdapter("#put_3", "#temp_1"); 
 
    CD3.setTableSlot("body", "tbody tr td");
    CD3.tables["body"].record.importSlot("#temp_2", "ul");
    CD3.tables["body"].column.importSlot("#temp_2", "li");

    CD3.update(ds, "body");
}

// // ###########################################
// {
//     // 생성자 ( put선택자, 템플릿선택자 )
//     var CD4 = new ContainerAdapter("#put_3", "#temp_1"); 
    
//     // CD3.setTableSlot("body", "tbody");   

//     // CD3.tables["body"].column.importSlot(document.querySelector("#temp_2"), "li");
//     // CD3.tables["body"].column.setSlot("ul", "li");
//     // CD3.tables["body"].column.setSlot("b");

//     CD4.setTableSlot("body", "tbody tr");
//     CD4.tables["body"].record.setSlot("td");
//     CD4.tables["body"].column.importSlot("#temp_2", "li", null,
//         function(pValue, pIndex, pDataRow, pSlotElem) {

//             var column = pDataRow._dataTable.columns[pIndex];
//             var columnValue = document.createTextNode(column.caption);

//             return columnValue;
//         }
//     );


//     CD3.update(ds, "body");
// }

{
    var ts = new TemplateSlotElement(null, 'inner');
    ts.importSlot("#temp_2", "ul", "li");
    

    var put_4 = document.querySelector("#put_4");
    put_4.appendChild(ts._original);
    // ts.importSlot("#temp_2");

}

console.log('-End-');
</script>

</body>
</html>
