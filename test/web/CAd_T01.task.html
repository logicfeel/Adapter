<html>
<head>
    <meta charset="UTF-8">
    <title>브라우저 테스트</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
<h1>브라우저 테스트 (콘솔로그 참조)</h1>

<h3> - 스타일 : 부트스트립트 css 이용</h3>
<h3> "일반 테이블 3개 방식"</h3>

<!--putElement-->
<div></div>

<p id="temp_1"><!--
    <table class="table table-striped">
        <tbody>
            <tr>
                <td><b>버튼앞<input type="button" name="aa" value="버튼임"></input>버튼뒤 </b></td>
            </tr>        
        </tbody>
    </table>-->
</p>

<script src="../../external/LCommon.web.js"></script>
<script src="../../external/DataSet.js"></script>
<script src="../../src/DataAD.js"></script>
<script src="../../src/ContainerAD.js"></script>
<script>

// 기본 ds 구성
{
    // ds 생성
    var ds = new DataSet("ds");

    var dt1 = ds.tables.add("Table1"); // 2방식 : 직접 생성 방식 : 테이블

    ds.tables["Table1"].columns.add("p1_name");
    ds.tables["Table1"].columns.add("p2_name");

    var dr = null;

    dr = dt1.newRow();
    dr["p1_name"] = '1번내용';
    dr["p2_name"] = '2번내용';
    dt1.rows.add(dr);

    dr = dt1.newRow();
    dr["p1_name"] = '10번내용';
    dr["p2_name"] = '20번내용';
    dt1.rows.add(dr);
    // ds.acceptChanges();   // 커밋 시점 이후 부터 반영

    dr = dt1.newRow();
    dr["p1_name"] = '100번내용';
    dr["p2_name"] = '200번내용';
    dt1.rows.add(dr);
}
{
    //-----------------------------------------------------------------
    // 생성자 ( put선택자, 템플릿선택자 )
    var CD = new ContainerAdapter("div", "#temp_1"); 

    // 테이블슬롯설정 ( 테이블명, 테이블선택자 )
    CD.setTableSlot("Table1", "tbody");   

    // XX슬롯설정 ( 선택자 [, 슬롯선택자] )
    CD.tables["Table1"].record.setSlot("tr");
    CD.tables["Table1"].column.setSlot("td", "td b");

    // 컨테이너 갱신 ( 데이터셋, 테이블명 [,매핑테이블명] )
    CD.update(ds, "Table1");
}
{
    //-----------------------------------------------------------------
    // 생성자 ( put선택자, 템플릿선택자 )
    var CD2 = new ContainerAdapter("div", "#temp_1"); 

    // 테이블슬롯설정 ( 테이블명, 테이블선택자 )
    CD2.setTableSlot("Table1", "tbody");   

    // XX슬롯설정 ( 선택자 [, 슬롯선택자] )
    CD2.tables["Table1"].record.setSlot("tr");
    CD2.tables["Table1"].column.setSlot("td", "td b input[value]");

    // 컨테이너 갱신 ( 데이터셋, 테이블명 [,매핑테이블명] )
    CD2.update(ds, "Table1");
}
{
    //-----------------------------------------------------------------
    // 생성자 ( put선택자, 템플릿선택자 )
    // var CD2 = new ContainerAdapter("#div2", "#temp_1"); 
    var CD3 = new ContainerAdapter("div", "#temp_1"); 

    // 테이블슬롯설정 ( 테이블명, 테이블선택자 )
    CD3.setTableSlot("Table1", "tbody");   

    // XX슬롯설정 ( 선택자 [, 슬롯선택자, callback] )
    CD3.tables["Table1"].record.setSlot("tr");
    CD3.tables["Table1"].column.setSlot("td", "td");

    // 컨테이너 갱신 ( 데이터셋, 테이블명 [,매핑테이블명] )
    CD3.update(ds, "Table1");
}

/**
 * 요구사항 정리 
 **/
var CD4 = new ContainerAdapter("div", "#temp_1");
CD4.setTableSlot("Table1", "tbody");

CD4.table["Table1"].column.setBaseSlot("td", "td");                         // 기본 슬롯 설정
CD4.table["Table1"].column.setSlot("td", {name: "p1_name", selector: "p"}); // 사용자 슬롯 설정

// 속성값 연결 : 인덱스키 설정은 this 에서 받을수 있게..
CD4.table["Table1"].column.setAttribute("ntc_idx");

// 컨테이너 갱신 ( 데이터셋, 테이블명 [,매핑테이블명] )
CD4.update(ds["Entity1"], "Table1");

console.log('-End-');
</script>

</body>
</html>
